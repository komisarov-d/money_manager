(this.webpackJsonpmoney_manager=this.webpackJsonpmoney_manager||[]).push([[0],{114:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(36),r=n.n(c),s=(n(85),n(6)),i=n(9),l=n(8),o=n(4),u=n(3),j=n.n(u),d=n(5),b=n(2),O=n(12),p=n.n(O),h=function(e,t,n,a){return Object(d.a)(j.a.mark((function c(){var r,s;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,p.a.post("/api/auth/singup",{email:e,password:t,name:n,bill:a},{headers:{"Content-Type":"application/json"}});case 3:return r=c.sent,s=r.data,c.abrupt("return",s);case 8:throw c.prev=8,c.t0=c.catch(0),c.t0.response.data.message;case 11:case"end":return c.stop()}}),c,null,[[0,8]])})))()},x=function(e,t){return Object(d.a)(j.a.mark((function n(){var a,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.post("/api/auth/login",{email:e,password:t},{headers:{"Content-Type":"application/json"}});case 3:return a=n.sent,c=a.data,n.abrupt("return",c);case 8:throw n.prev=8,n.t0=n.catch(0),n.t0.response.data.message;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},m=function(e){return Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/auth/info",{headers:{Authorization:"Bearer: ".concat(e)}});case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0.response.data.message;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},f=function(e,t,n){return Object(d.a)(j.a.mark((function a(){var c,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("/api/auth/update",{name:e,bill:t},{headers:{Authorization:"Bearer: ".concat(n)}});case 3:return c=a.sent,r=c.data,a.abrupt("return",r);case 8:throw a.prev=8,a.t0=a.catch(0),a.t0.response.data.message;case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},v=n(23),g=function(e){return Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/category",{headers:{Authorization:"Bearer: ".concat(e)}});case 3:return n=t.sent,a=n.data.categories,t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0.response.data.message;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},N=function(e,t,n){return Object(d.a)(j.a.mark((function a(){var c,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("/api/category/create",{title:e,limit:t},{headers:{Authorization:"Bearer: ".concat(n),"Content-Type":"application/json"}});case 3:return c=a.sent,r=c.data.category,a.abrupt("return",r);case 8:throw a.prev=8,a.t0=a.catch(0),a.t0.response.data.message;case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},y=function(e,t,n,a){return Object(d.a)(j.a.mark((function c(){var r,s;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,p.a.post("/api/category/update",{id:e,title:t,limit:n},{headers:{Authorization:"Bearer: ".concat(a),"Content-Type":"application/json"}});case 3:return r=c.sent,s=r.data,c.abrupt("return",s);case 8:throw c.prev=8,c.t0=c.catch(0),c.t0.response.data.message;case 11:case"end":return c.stop()}}),c,null,[[0,8]])})))()},w=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(b.a)(Object(b.a)({},e),a):e}))},E={loading:!1,message:null,isReady:!1,currency:{},currentPage:1},C=function(e){return function(t){t({type:"COMMON/SET_MESSAGE",payload:e}),setTimeout((function(){t({type:"COMMON/CLEAR_MESSAGE"})}),4e3)}},M=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.exchangerate-api.com/v4/latest/UAH");case 3:return t=e.sent,e.abrupt("return",t.json());case 7:e.prev=7,e.t0=e.catch(0),M();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),R="MMLocalStorage",k={categories:[]},D=function(){return function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"COMMON/SHOW_LOADER"}),e.next=4,JSON.parse(localStorage.getItem(R));case 4:return n=e.sent,e.next=7,g(n.token);case 7:return a=e.sent,e.next=10,t({type:"CATEGORIES/FETCH",payload:a});case 10:t({type:"COMMON/HIDE_LOADER"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),t({type:"COMMON/HIDE_LOADER"}),t(C(e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/record",{headers:{Authorization:"Bearer ".concat(e)}});case 3:return n=t.sent,a=n.data.records,t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0.response.data.message;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},_=function(e,t){return Object(d.a)(j.a.mark((function n(){var a,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.get("/api/record/detail//".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=n.sent,c=a.data.record,n.abrupt("return",c);case 8:throw n.prev=8,n.t0=n.catch(0),n.t0.response.data.message;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},A=function(e,t){return Object(d.a)(j.a.mark((function n(){var a,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.delete("/api/record/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=n.sent,c=a.data.message,n.abrupt("return",c);case 8:throw n.prev=8,n.t0=n.catch(0),n.t0.response.data.message;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},T=function(e,t,n){return Object(d.a)(j.a.mark((function a(){var c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("/api/record/create",{record:e,categoryId:t},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 3:return c=a.sent,a.abrupt("return",c);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0.response.data.message;case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},I="MMLocalStorage",H={records:[],currentRecord:{}},L=function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var c,r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.type.length){n.next=2;break}return n.abrupt("return",a(C("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u043f\u0438\u0441\u0438.")));case 2:if(!(e.amount<10)){n.next=4;break}return n.abrupt("return",a(C("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 10.")));case 4:if(!(e.description.length<4)){n.next=6;break}return n.abrupt("return",a(C("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.")));case 6:return n.prev=6,a({type:"COMMON/SHOW_LOADER"}),n.next=10,JSON.parse(localStorage.getItem(I));case 10:return c=n.sent,n.next=13,T(e,t,c.token);case 13:return r=n.sent,a({type:"RECORDS/CREATE_RECORD",payload:r.data.record}),a(G(r.data.bill)),a(C(r.data.message)),a({type:"COMMON/HIDE_LOADER"}),n.abrupt("return",r);case 21:n.prev=21,n.t0=n.catch(6),a({type:"COMMON/HIDE_LOADER"}),a(C(n.t0));case 25:case"end":return n.stop()}}),n,null,[[6,21]])})));return function(e){return n.apply(this,arguments)}}()},F={isAuth:!1,name:null,bill:null,userId:null,token:null},U="MMLocalStorage",P=function(){return function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem(U));case 2:if(!(n=e.sent)||!n.token){e.next=18;break}return e.prev=4,e.next=7,m(n.token);case 7:return a=e.sent,t({type:"AUTH/SET_INFO",payload:a.user}),e.next=11,t(D());case 11:return e.next=13,t(function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"COMMON/SHOW_LOADER"}),e.next=4,JSON.parse(localStorage.getItem(I));case 4:return n=e.sent,e.next=7,S(n.token);case 7:a=e.sent,t({type:"RECORDS/FETCH_RECORDS",payload:a}),t({type:"COMMON/HIDE_LOADER"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"COMMON/HIDE_LOADER"}),t(C(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}());case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),t(C("\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443."));case 18:t({type:"COMMON/HIDE_LOADER"}),t({type:"COMMON/SET_READY"});case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()},G=function(e){return{type:"AUTH/SET_BILL",payload:e}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",n={};return t.includes("date")&&(n.day="2-digit",n.month="long",n.year="numeric"),t.includes("time")&&(n.hour="2-digit",n.minute="2-digit",n.second="2-digit"),new Intl.DateTimeFormat("ru-RU",n).format(new Date(e))},J=n(0),W=function(e){var t=Object(o.b)(),n=Object(a.useState)(new Date),c=Object(i.a)(n,2),r=c[0],l=c[1],u=Object(o.c)((function(e){return e.auth.name}));Object(a.useEffect)((function(){var e=document.querySelector(".dropdown-trigger");window.M.Dropdown.init(e)}),[]);var j=function(e){setInterval((function(){l(new Date)}),e)};return Object(a.useEffect)((function(){return j(1e3),function(){j(null),l(null)}}),[]),Object(J.jsx)("header",{children:Object(J.jsx)("nav",{className:"navbar orange lighten-1",children:Object(J.jsxs)("div",{className:"nav-wrapper",children:[Object(J.jsxs)("div",{className:"navbar-left",children:[Object(J.jsx)("span",{onClick:function(t){t.preventDefault(),e.sidebarToggle()},children:Object(J.jsx)("i",{className:"material-icons black-text",children:"dehaze"})}),Object(J.jsx)("span",{style:{paddingLeft:"10px"},className:"black-text",children:B(r,"datetime")})]}),Object(J.jsx)("ul",{className:"right hide-on-small-and-down",children:Object(J.jsxs)("li",{children:[Object(J.jsxs)("a",{className:"dropdown-trigger black-text",href:"#!","data-target":"dropdown",children:[u," ",Object(J.jsx)("i",{className:"material-icons right",children:"arrow_drop_down"})]}),Object(J.jsxs)("ul",{id:"dropdown",className:"dropdown-content",children:[Object(J.jsx)("li",{children:Object(J.jsxs)(s.b,{to:"/profile",className:"black-text",children:[Object(J.jsx)("i",{className:"material-icons",children:"account_circle"}),"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]})}),Object(J.jsx)("li",{className:"divider",tabIndex:"-1"}),Object(J.jsx)("li",{children:Object(J.jsxs)("a",{onClick:function(e){e.preventDefault(),t((localStorage.removeItem(U),{type:"AUTH/LOGOUT"}))},href:"#!",className:"black-text",children:[Object(J.jsx)("i",{className:"material-icons",children:"assignment_return"}),"\u0412\u044b\u0439\u0442\u0438"]})})]})]})})]})})})},z=function(e){return Object(J.jsxs)("ul",{className:["sidenav","app-sidenav",e.open].join(" "),children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/",className:"waves-effect waves-orange pointer",children:"\u0421\u0447\u0435\u0442"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/history",className:"waves-effect waves-orange pointer",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/planning",className:"waves-effect waves-orange pointer",children:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/record",className:"waves-effect waves-orange pointer",children:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/categories",className:"waves-effect waves-orange pointer",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})})]})},V=n(10),X=function(){var e=Object(o.b)(),t=Object(a.useState)({email:"",password:""}),n=Object(i.a)(t,2),c=n[0],r=n[1],l=function(e){r(Object(b.a)(Object(b.a)({},c),{},Object(V.a)({},e.target.name,e.target.value)))};return Object(J.jsxs)("form",{className:"card auth-card",onSubmit:function(t){t.preventDefault(),e(function(e){var t=e.email,n=e.password;return function(){var e=Object(d.a)(j.a.mark((function e(a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length&&n.length){e.next=2;break}return e.abrupt("return",a(C("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443.")));case 2:return e.prev=2,a({type:"COMMON/SHOW_LOADER"}),e.next=6,x(t,n);case 6:c=e.sent,localStorage.setItem(U,JSON.stringify({token:c.token,userId:c.userId})),a({type:"AUTH/LOGIN",payload:c.user}),a(P()),a({type:"COMMON/HIDE_LOADER"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),a({type:"COMMON/HIDE_LOADER"}),a(C(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}(c))},children:[Object(J.jsxs)("div",{className:"card-content",children:[Object(J.jsx)("span",{className:"card-title",children:"\u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044f"}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"email",type:"email",className:"validate",value:c.email,name:"email",onChange:l}),Object(J.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"password",type:"password",className:"validate",value:c.password,name:"password",onChange:l}),Object(J.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"})]})]}),Object(J.jsxs)("div",{className:"card-action",children:[Object(J.jsx)("div",{children:Object(J.jsxs)("button",{className:"btn waves-effect waves-light auth-submit",type:"submit",children:["\u0412\u043e\u0439\u0442\u0438",Object(J.jsx)("i",{className:"material-icons right",children:"send"})]})}),Object(J.jsxs)("p",{className:"center",children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?",Object(J.jsx)(s.b,{style:{paddingLeft:"10px"},to:"/singup",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})]})},q=function(){var e=Object(o.b)(),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)({email:"",password:"",name:"",bill:0}),u=Object(i.a)(l,2),O=u[0],p=u[1];Object(a.useEffect)((function(){window.M.updateTextFields()}),[]);var x=Object(a.useCallback)((function(e){p(Object(b.a)(Object(b.a)({},O),{},Object(V.a)({},e.target.name,e.target.value)))}),[O]);return Object(J.jsxs)("form",{className:"card auth-card",children:[Object(J.jsxs)("div",{className:"card-content",children:[Object(J.jsx)("span",{className:"card-title",children:"\u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044f"}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"email",type:"text",name:"email",value:O.email,onChange:x}),Object(J.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"password",type:"password",name:"password",className:"validate",onChange:x,value:O.password}),Object(J.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"name",type:"text",className:"validate",onChange:x,value:O.name,name:"name"}),Object(J.jsx)("label",{htmlFor:"name",children:"\u0418\u043c\u044f"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"bill",type:"number",name:"bill",className:"validate",onChange:x,value:O.bill}),Object(J.jsx)("label",{htmlFor:"password",children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u0430\u043f\u0438\u0442\u0430\u043b"})]}),Object(J.jsx)("p",{children:Object(J.jsxs)("label",{children:[Object(J.jsx)("input",{type:"checkbox",checked:c,onChange:function(){r(!c)},name:"checked"}),Object(J.jsx)("span",{children:"\u0421 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d"})]})})]}),Object(J.jsxs)("div",{className:"card-action",children:[Object(J.jsx)("div",{children:Object(J.jsxs)("button",{onClick:function(t){t.preventDefault(),e(function(e,t){var n=e.email,a=e.password,c=e.name,r=e.bill;return function(){var e=Object(d.a)(j.a.mark((function e(s){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length&&c.length){e.next=2;break}return e.abrupt("return",s(C("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.")));case 2:if(!(a.length<8)){e.next=4;break}return e.abrupt("return",s(C("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.")));case 4:if(!1!==t){e.next=6;break}return e.abrupt("return",s(C("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438.")));case 6:return e.prev=6,s({type:"COMMON/SHOW_LOADER"}),e.next=10,h(n,a,c,r);case 10:i=e.sent,localStorage.setItem(U,JSON.stringify({token:i.token,userId:i.userId})),s({type:"AUTH/LOGIN",payload:i.user}),s(P()),s({type:"COMMON/HIDE_LOADER"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),s({type:"COMMON/HIDE_LOADER"}),s(C(e.t0));case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}()}(O,c))},className:"btn waves-effect waves-light auth-submit",type:"submit",children:["\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",Object(J.jsx)("i",{className:"material-icons right",children:"send"})]})}),Object(J.jsxs)("p",{className:"center",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?",Object(J.jsx)(s.b,{style:{paddingLeft:"10px"},to:"/login",children:"\u0412\u043e\u0439\u0442\u0438!"})]})]})]})},Y=n(50),K=function(e){var t=e.currEl;return Object(J.jsx)("div",{className:"col s12 m6 l4",children:Object(J.jsx)("div",{className:"card light-blue bill-card",children:Object(J.jsxs)("div",{className:"card-content white-text",children:[Object(J.jsx)("span",{className:"card-title",children:"\u0421\u0447\u0435\u0442 \u0432 \u0432\u0430\u043b\u044e\u0442\u0435"}),t]})})})},Q=function(e){var t=e.ratesEl;return Object(J.jsx)("div",{className:"col s12 m6 l8",children:Object(J.jsx)("div",{className:"card orange darken-3 bill-card",children:Object(J.jsxs)("div",{className:"card-content white-text",children:[Object(J.jsx)("div",{className:"card-header",children:Object(J.jsx)("span",{className:"card-title",children:"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442"})}),Object(J.jsxs)("table",{children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(J.jsx)("th",{children:"\u041a\u0443\u0440\u0441"}),Object(J.jsx)("th",{children:"\u0414\u0430\u0442\u0430"})]})}),Object(J.jsx)("tbody",{children:t})]})]})})})},Z=function(){document.title="Home page";var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.auth.bill})),s=Object(o.b)(),l=["UAH","EUR","USD"],u=Object(a.useCallback)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,c(t),s({type:"COMMON/HIDE_LOADER"});case 5:case"end":return e.stop()}}),e)}))),[s]);Object(a.useEffect)((function(){u()}),[u]);var b=function(e){if(void 0!==n.rates)return Math.floor(r*n.rates[e])},O=[],p=[];if(n.rates){var h,x=Object(Y.a)(l);try{for(x.s();!(h=x.n()).done;){var m=h.value;O.push(Object(J.jsx)("p",{className:"currency-line",children:Object(J.jsx)("span",{children:"".concat(b(m)," ").concat(m)})},m))}}catch(N){x.e(N)}finally{x.f()}var f,v=Object(Y.a)(l);try{for(v.s();!(f=v.n()).done;){var g=f.value;p.push(Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:g}),Object(J.jsx)("td",{children:n.rates[g].toFixed(4)}),Object(J.jsx)("td",{children:B(n.date,"date")})]},g))}}catch(N){v.e(N)}finally{v.f()}}return Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"page-title",children:[Object(J.jsx)("h3",{children:"\u0421\u0447\u0435\u0442"}),Object(J.jsx)("button",{onClick:u,className:"btn waves-effect waves-light btn-small",children:Object(J.jsx)("i",{className:"material-icons",children:"refresh"})})]}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)(K,{currEl:O}),Object(J.jsx)(Q,{ratesEl:p})]})]})},$=(n(114),function(){return Object(J.jsx)("div",{className:"loader-block",children:Object(J.jsx)("div",{className:"loader",children:Object(J.jsxs)("div",{className:"lds-default",children:[Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{})]})})})}),ee=n(77),te=n.n(ee),ne=function(){var e=Object(o.c)((function(e){return e.records.currentRecord})),t=Object(o.c)((function(e){return e.categories.categories})).filter((function(t){return t._id===e.category})),n=Object(o.b)(),c=Object(l.g)(),r=Object(o.c)((function(e){return e.common.loading})),i=Object(l.h)().id,u="green";Object(a.useEffect)((function(){n(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"COMMON/SHOW_LOADER"}),t.next=4,JSON.parse(localStorage.getItem(I));case 4:return a=t.sent,t.next=7,_(e,a.token);case 7:c=t.sent,n({type:"RECORD/CURRENT_RECORD",payload:c}),n({type:"COMMON/HIDE_LOADER"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n(C(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(i)),window.scrollTo(0,0)}),[i,n]);var b=Object(a.useCallback)((function(){var e;n((e=i,function(){var t=Object(d.a)(j.a.mark((function t(n){var a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"COMMON/SHOW_LOADER"}),t.next=4,JSON.parse(localStorage.getItem(I));case 4:return a=t.sent,t.next=7,A(e,a.token);case 7:c=t.sent,n({type:"RECORD/REMOVE_RECORD",payload:e}),n(C(c)),n({type:"COMMON/HIDE_LOADER"}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:"COMMON/HIDE_LOADER"}),n(C(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}())),c.push("/history")}),[n,c,i]);return u="income"===e.type?"green":"red",!r&&e.date&&t.length?Object(J.jsx)("div",{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"breadcrumb-wrap",children:[Object(J.jsx)(s.b,{to:"/history",className:"breadcrumb",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(J.jsx)("a",{href:"#!",className:"breadcrumb",style:{cursor:"default"},children:"income"===e.type?"\u0414\u043e\u0445\u043e\u0434":"\u0420\u0430\u0441\u0445\u043e\u0434"})]}),Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"col s12 m6",children:Object(J.jsx)("div",{className:"card ".concat(u),children:Object(J.jsxs)("div",{className:"card-content white-text",children:[Object(J.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",e.description]}),Object(J.jsxs)("p",{children:["\u0421\u0443\u043c\u043c\u0430: ",e.amount]}),Object(J.jsxs)("p",{children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: ",t[0].title]}),Object(J.jsx)("small",{children:B(e.date,"datetime")}),Object(J.jsx)("p",{children:Object(J.jsx)("button",{onClick:b,className:te.a.remove,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"})})]})})})})]})}):Object(J.jsx)($,{})},ae=function(){var e=Object(o.b)(),t=Object(a.useState)({title:"",limit:10}),n=Object(i.a)(t,2),c=n[0],r=n[1],s=function(e){r(Object(b.a)(Object(b.a)({},c),{},Object(V.a)({},e.target.name,e.target.value)))},l=Object(a.useCallback)((function(t){t.preventDefault(),e(function(e){var t=e.title,n=e.limit;return function(){var e=Object(d.a)(j.a.mark((function e(a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<3)){e.next=2;break}return e.abrupt("return",a(C("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.")));case 2:if(!(n<10)){e.next=4;break}return e.abrupt("return",a(C("\u041b\u0438\u043c\u0438\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u0435\u0435 10.")));case 4:return e.prev=4,a({type:"COMMON/SHOW_LOADER"}),e.next=8,JSON.parse(localStorage.getItem(R));case 8:return c=e.sent,e.next=11,N(t,n,c.token);case 11:return r=e.sent,e.next=14,a({type:"CATEGORIES/CREATE",payload:r});case 14:a(C("\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430.")),a({type:"COMMON/HIDE_LOADER"}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),a({type:"COMMON/HIDE_LOADER"}),a(C(e.t0));case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}()}(c))}),[e,c]);return Object(a.useEffect)((function(){window.M.updateTextFields()}),[]),Object(J.jsx)("div",{className:"col s12 m6",children:Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"page-subtitle",children:Object(J.jsx)("h4",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(J.jsxs)("form",{onSubmit:l,children:[Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{onChange:s,id:"name",name:"title",value:c.title,type:"text"}),Object(J.jsx)("label",{htmlFor:"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{onChange:s,name:"limit",id:"limit",type:"number",value:c.limit}),Object(J.jsx)("label",{htmlFor:"limit",children:"\u041b\u0438\u043c\u0438\u0442"})]}),Object(J.jsxs)("button",{className:"btn waves-effect waves-light",type:"submit",children:["\u0421\u043e\u0437\u0434\u0430\u0442\u044c",Object(J.jsx)("i",{className:"material-icons right",children:"send"})]})]})]})})},ce=function(e){var t=e.catEl,n=e.changeHandler;return Object(a.useEffect)((function(){var e=document.querySelectorAll("select");window.M.FormSelect.init(e)}),[]),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("select",{onChange:n,children:t}),Object(J.jsx)("label",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"})]})},re=function(e){var t=e.categories,n=Object(o.b)(),c=Object(a.useState)(t[0]._id),r=Object(i.a)(c,2),s=r[0],l=r[1],u=Object(a.useState)({title:"",limit:10}),O=Object(i.a)(u,2),p=O[0],h=O[1],x=function(e){h(Object(b.a)(Object(b.a)({},p),{},Object(V.a)({},e.target.name,e.target.value)))},m=Object(a.useCallback)((function(e){var t,a,c;e.preventDefault(),n((t=s,a=p.title,c=p.limit,function(){var e=Object(d.a)(j.a.mark((function e(n){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<3)){e.next=2;break}return e.abrupt("return",n(C("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.")));case 2:if(!(c<10)){e.next=4;break}return e.abrupt("return",n(C("\u041b\u0438\u043c\u0438\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u0435\u0435 10.")));case 4:return e.prev=4,n({type:"COMMON/SHOW_LOADER"}),e.next=8,JSON.parse(localStorage.getItem(R));case 8:return r=e.sent,e.next=11,y(t,a,c,r.token);case 11:return s=e.sent,e.next=14,n({type:"CATEGORIES/UPDATE",id:t,title:a,limit:c});case 14:n(C(s.message)),n({type:"COMMON/HIDE_LOADER"}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),n({type:"COMMON/HIDE_LOADER"}),n(C(e.t0));case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}()))}),[n,p,s]);Object(a.useEffect)((function(){window.M.updateTextFields()}),[]);var f=t.map((function(e,t){return Object(J.jsx)("option",{value:e._id,children:e.title},t)}));return Object(J.jsx)("div",{className:"col s12 m6",children:Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"page-subtitle",children:Object(J.jsx)("h4",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(J.jsxs)("form",{onSubmit:m,children:[Object(J.jsx)(ce,{catEl:f,changeHandler:function(e){l(e.target.value)}}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{type:"text",id:"title",name:"title",onChange:x,value:p.title}),Object(J.jsx)("label",{htmlFor:"title",children:"\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{name:"limit",value:p.limit,onChange:x,id:"limit",type:"number"}),Object(J.jsx)("label",{htmlFor:"limit",children:"\u041d\u043e\u0432\u044b\u0439 \u043b\u0438\u043c\u0438\u0442"})]}),Object(J.jsxs)("button",{className:"btn waves-effect waves-light",type:"submit",children:["\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c ",Object(J.jsx)("i",{className:"material-icons right",children:"send"})]})]})]})})},se=function(){document.title="Categories";var e=Object(o.b)(),t=Object(o.c)((function(e){return e.common.loading})),n=Object(o.c)((function(e){return e.categories.categories}));return Object(a.useEffect)((function(){e(D())}),[e]),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"page-title",children:Object(J.jsx)("h3",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})}),t?Object(J.jsx)($,{}):Object(J.jsx)("section",{children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)(ae,{}),n.length?Object(J.jsx)(re,{categories:n}):Object(J.jsx)("p",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]})})]})},ie=function(e){var t=e.category,n=e.persent,c=e.progressColor,r=e.left,s=e.spend;Object(a.useEffect)((function(){window.M.Tooltip.init(document.querySelectorAll(".tooltipped"))}));var i="\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c";return r<0&&(i="\u041b\u0438\u043c\u0438\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u043d\u0430"),Object(J.jsxs)("div",{children:[Object(J.jsxs)("p",{children:[Object(J.jsxs)("strong",{children:[t.title,": "]}),s," \u0438\u0437 ",t.limit]}),Object(J.jsx)("div",{className:"progress tooltipped","data-position":"top","data-tooltip":"".concat(i,": ").concat(r),children:Object(J.jsx)("div",{className:"determinate ".concat(c),style:{width:n+"%"}})})]})},le=function(){document.title="Planning";var e=Object(o.c)((function(e){return e.categories.categories})),t=Object(o.c)((function(e){return e.records.records})),n=Object(o.c)((function(e){return e.auth.bill})),a=e.map((function(e){var n=t.filter((function(t){return t.category===e._id})).filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+ +t.amount}),0),a=100*n/e.limit,c=a>100?100:a,r=a<60?"green":a<100?"yellow":"red",s=e.limit-n;return Object(J.jsx)(ie,{left:s,persent:a,spend:n,category:e,progressColor:r,progressPercent:c},e._id)}));return e.length||s.b,Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"page-title",children:[Object(J.jsx)("h3",{children:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(J.jsx)("h4",{children:n})]}),Object(J.jsx)("section",{children:a})]})},oe=function(e){var t=e.categories,n=e.createNewRecord,c=Object(a.useState)(t[0]._id),r=Object(i.a)(c,2),s=r[0],l=r[1],o=Object(a.useState)({type:"",amount:10,description:""}),u=Object(i.a)(o,2),j=u[0],d=u[1];Object(a.useEffect)((function(){window.M.updateTextFields()}),[]);var O=function(e){d(Object(b.a)(Object(b.a)({},j),{},Object(V.a)({},e.target.name,e.target.value)))},p=t.map((function(e,t){return Object(J.jsx)("option",{value:e._id,children:e.title},t)}));return Object(J.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),n(j,s)},children:[Object(J.jsx)(ce,{catEl:p,changeHandler:function(e){l(e.target.value)}}),Object(J.jsx)("p",{children:Object(J.jsxs)("label",{children:[Object(J.jsx)("input",{className:"with-gap",name:"type",type:"radio",value:"income",onChange:O}),Object(J.jsx)("span",{children:"\u0414\u043e\u0445\u043e\u0434"})]})}),Object(J.jsx)("p",{children:Object(J.jsxs)("label",{children:[Object(J.jsx)("input",{className:"with-gap",name:"type",type:"radio",value:"outcome",onChange:O}),Object(J.jsx)("span",{children:"\u0420\u0430\u0441\u0445\u043e\u0434"})]})}),Object(J.jsxs)("div",{style:{paddingTop:"10px"},className:"input-field",children:[Object(J.jsx)("input",{id:"amount",type:"number",name:"amount",value:j.amount,onChange:O}),Object(J.jsx)("label",{style:{paddingTop:"10px"},htmlFor:"amount",children:"\u0421\u0443\u043c\u043c\u0430"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"description",type:"text",name:"description",value:j.description,onChange:O}),Object(J.jsx)("label",{htmlFor:"description",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}),Object(J.jsxs)("button",{className:"btn waves-effect waves-light",type:"submit",children:["\u0421\u043e\u0437\u0434\u0430\u0442\u044c",Object(J.jsx)("i",{className:"material-icons right",children:"send"})]})]})},ue=function(){document.title="Records";var e=Object(l.g)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.categories.categories})),a=function(){var n=Object(d.a)(j.a.mark((function n(a,c){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(L(a,c));case 2:if(void 0===n.sent){n.next=5;break}return n.abrupt("return",e.push("/history"));case 5:return n.abrupt("return");case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return n.length?Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"page-title",children:Object(J.jsx)("h3",{children:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c"})}),Object(J.jsx)(oe,{createNewRecord:a,categories:n})]}):Object(J.jsxs)("p",{children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. ",Object(J.jsx)(s.b,{to:"/categories",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e..."})]})},je=function(){document.title="Profile";var e=Object(l.g)(),t=Object(o.b)();Object(a.useEffect)((function(){window.M.updateTextFields()}),[]);var n=Object(a.useState)({name:"",bill:0}),c=Object(i.a)(n,2),r=c[0],s=c[1],u=function(e){s(Object(b.a)(Object(b.a)({},r),{},Object(V.a)({},e.target.name,e.target.value)))};return Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"page-title",children:Object(J.jsx)("h3",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(J.jsxs)("form",{className:"form",onSubmit:function(n){n.preventDefault(),t(function(e){var t=e.name,n=e.bill;return function(){var e=Object(d.a)(j.a.mark((function e(a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem(U));case 2:if(!(c=e.sent)||!c.token){e.next=19;break}return e.prev=4,a({type:"COMMON/SHOW_LOADER"}),console.log(n),e.next=9,f(t,n,c.token);case 9:r=e.sent,a({type:"AUTH/UPDATE_INFO",payload:{name:t,bill:n}}),a(C(r.message)),a({type:"COMMON/HIDE_LOADER"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a(C(e.t0)),a({type:"COMMON/HIDE_LOADER"});case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}(r)),e.push("/home")},children:[Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{onChange:u,id:"name",type:"text",name:"name",value:r.name}),Object(J.jsx)("label",{htmlFor:"description",children:"\u0418\u043c\u044f"})]}),Object(J.jsxs)("div",{className:"input-field",children:[Object(J.jsx)("input",{id:"bill",type:"number",name:"bill",onChange:u,value:r.bill}),Object(J.jsx)("label",{htmlFor:"description",children:"\u041a\u0430\u043f\u0438\u0442\u0430\u043b"})]}),Object(J.jsxs)("button",{className:"btn waves-effect waves-light",type:"submit",children:["\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",Object(J.jsx)("i",{className:"material-icons right",children:"send"})]})]})]})},de=function(e){var t=e.record,n=e.idx,a=e.categories.filter((function(e){return e._id===t.category}))[0].title;return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:n+1}),Object(J.jsx)("td",{children:t.amount}),Object(J.jsx)("td",{children:B(t.date,"datetime")}),Object(J.jsx)("td",{children:a}),Object(J.jsx)("td",{children:"income"===t.type?Object(J.jsx)("span",{className:"white-text badge green",children:"\u0414\u043e\u0445\u043e\u0434"}):Object(J.jsx)("span",{className:"white-text badge red",children:"\u0420\u0430\u0441\u0445\u043e\u0434"})}),Object(J.jsx)("td",{children:Object(J.jsx)(s.b,{className:"btn tooltipped","data-position":"top","data-tooltip":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c",to:"/detail/".concat(t._id),children:Object(J.jsx)("i",{className:"material-icons",children:"open_in_new"})})})]})},be=n(78),Oe=function(e){var t=e.categories,n=e.records,a={labels:t.map((function(e){return e.title})),datasets:[{label:"Rainfall",backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(24, 162, 235, .6)","rgba(255, 206, 86, .7)","rgba(25, 192, 192, .6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 206, 86, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 99, 132, 0.2)"],borderWidth:1,hoverBackgroundColor:["#501800","#4B5000","#175000","#4B4500","#1b25000","#0034e0","#003350","#35014F"],data:t.map((function(e){return n.reduce((function(t,n){return n.category===e._id&&"outcome"===n.type&&(t+=+n.amount),t}),0)}))}]};return Object(J.jsx)("div",{className:"pie",children:Object(J.jsx)(be.Pie,{className:"pie",data:a,width:200,height:40,options:{legend:{display:!0,position:"right"}}})})},pe=function(e){var t=e.paginationHandler,n=e.currentPage,a=e.paginationArr,c=function(e){t(e.target.name)},r=a.map((function(e,t){var a="";return t+1===+n&&(a="active"),Object(J.jsx)("li",{className:"waves-effect ".concat(a),children:Object(J.jsx)("a",{name:t+1,onClick:c,href:"#!",children:t+1})},t)}));return Object(J.jsx)("div",{className:"pagination__block",style:{display:"flex",justifyContent:"center"},children:Object(J.jsx)("ul",{className:"pagination",children:r})})},he=n(79),xe=n.n(he),me=function(){document.title="History";var e=Object(o.c)((function(e){return e.categories.categories})),t=Object(o.c)((function(e){return e.records.records})),n=Object(o.c)((function(e){return e.common.currentPage})),c=Object(o.b)(),r=xe.a.chunk(t,6),i=Object(a.useCallback)((function(e){c(function(e){return{type:"COMMON/SET_CURRENT-PAGE",payload:e}}(e))}),[c]),l=r[n-1].map((function(t,n){return Object(J.jsx)(de,{categories:e,record:t,idx:n},t._id)}));return e.length?t.length?Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"page-title",children:Object(J.jsx)("h3",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439"})}),Object(J.jsx)(Oe,{categories:e,records:t}),Object(J.jsxs)("section",{children:[Object(J.jsxs)("table",{children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"#"}),Object(J.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430"}),Object(J.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(J.jsx)("th",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(J.jsx)("th",{children:"\u0422\u0438\u043f"}),Object(J.jsx)("th",{children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})]})}),Object(J.jsx)("tbody",{children:l})]}),Object(J.jsx)(pe,{paginationArr:r,paginationHandler:i,records:t,currentPage:n})]})]}):Object(J.jsxs)("p",{children:["\u0417\u0430\u043f\u0438\u0441\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. ",Object(J.jsx)(s.b,{to:"/record",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]}):Object(J.jsxs)("p",{children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. ",Object(J.jsx)(s.b,{to:"/categories",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})},fe=(n(209),function(){var e=Object(o.c)((function(e){return e.auth.isAuth})),t=Object(o.c)((function(e){return e.common.isReady})),n=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1];return e?Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"app-main-layout",children:[Object(J.jsx)(W,{sidebarToggle:function(){return r(""===c?"open":"")}}),Object(J.jsx)(z,{open:c}),Object(J.jsx)("main",{className:["app-content",c?"":"full"].join(" "),children:Object(J.jsx)("div",{className:"app-page",children:Object(J.jsxs)(l.d,{children:[Object(J.jsx)(l.b,{exact:!0,path:"/",children:Object(J.jsx)(Z,{})}),Object(J.jsx)(l.b,{exact:!0,path:"/categories",children:Object(J.jsx)(se,{})}),Object(J.jsx)(l.b,{exact:!0,path:"/history",children:Object(J.jsx)(me,{})}),Object(J.jsx)(l.b,{exact:!0,path:"/record",children:Object(J.jsx)(ue,{})}),Object(J.jsx)(l.b,{path:"/detail/:id",children:Object(J.jsx)(ne,{})}),Object(J.jsx)(l.b,{exact:!0,path:"/profile",children:Object(J.jsx)(je,{})}),Object(J.jsx)(l.b,{exact:!0,path:"/planning",children:Object(J.jsx)(le,{})}),Object(J.jsx)(l.a,{to:"/"})]})})}),Object(J.jsx)("div",{className:"fixed-action-btn",children:Object(J.jsx)(s.b,{className:"btn-floating btn-large blue",to:"/record",children:Object(J.jsx)("i",{className:"large material-icons",children:"add"})})})]})}):e?void 0:Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:"grey darken-1 empty-layout",children:Object(J.jsx)(l.d,{children:Object(J.jsxs)(a.Suspense,{fallback:Object(J.jsx)("div",{children:Object(J.jsx)($,{})}),children:[Object(J.jsx)(l.b,{exact:!0,path:"/login",children:Object(J.jsx)(X,{})}),Object(J.jsx)(l.b,{exact:!0,path:"/singup",children:Object(J.jsx)(q,{})}),Object(J.jsx)(l.a,{to:"/login"})]})})})})}(e),c=Object(o.b)(),r=Object(o.c)((function(e){return e.common.message})),u=Object(a.useCallback)((function(e){e&&window.M&&window.M.toast({html:e})}),[]);return Object(a.useEffect)((function(){u(r)}),[r,u]),Object(a.useEffect)((function(){c(P())}),[c]),t?Object(J.jsx)(s.a,{children:n}):Object(J.jsx)($,{})}),ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},ge=n(21),Ne=n(80),ye=Object(ge.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/LOGIN":return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuth:!0});case"AUTH/LOGOUT":return Object(b.a)(Object(b.a)({},e),{},{login:null,bill:null,uid:null,token:null,isAuth:!1});case"AUTH/SET_INFO":return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuth:!0});case"AUTH/UPDATE_INFO":return Object(b.a)(Object(b.a)({},e),{},{name:t.payload.name,bill:t.payload.bill});case"AUTH/SET_BILL":return Object(b.a)(Object(b.a)({},e),{},{bill:t.payload});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORIES/FETCH":return Object(b.a)(Object(b.a)({},e),{},{categories:Object(v.a)(t.payload)});case"CATEGORIES/UPDATE":return Object(b.a)(Object(b.a)({},e),{},{categories:w(e.categories,t.id,"_id",{title:t.title,limit:t.limit})});case"CATEGORIES/CREATE":return Object(b.a)(Object(b.a)({},e),{},{categories:[].concat(Object(v.a)(e.categories),[t.payload])});default:return e}},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECORDS/FETCH_RECORDS":return Object(b.a)(Object(b.a)({},e),{},{records:Object(v.a)(t.payload.reverse())});case"RECORDS/CREATE_RECORD":return Object(b.a)(Object(b.a)({},e),{},{records:[t.payload].concat(Object(v.a)(e.records))});case"RECORD/CURRENT_RECORD":return Object(b.a)(Object(b.a)({},e),{},{currentRecord:t.payload});case"RECORD/REMOVE_RECORD":return Object(b.a)(Object(b.a)({},e),{},{records:e.records.filter((function(e){return e._id!==t.payload}))});default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMON/SHOW_LOADER":return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case"COMMON/HIDE_LOADER":return Object(b.a)(Object(b.a)({},e),{},{loading:!1});case"COMMON/SET_MESSAGE":return Object(b.a)(Object(b.a)({},e),{},{message:t.payload});case"COMMON/CLEAR_MESSAGE":return Object(b.a)(Object(b.a)({},e),{},{message:null});case"COMMON/SET_READY":return Object(b.a)(Object(b.a)({},e),{},{isReady:!0});case"COMMON/SET_CURRENCY":return Object(b.a)(Object(b.a)({},e),{},{currency:t.payload});case"COMMON/SET_CURRENT-PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.payload});default:return e}}}),we=Object(ge.e)(ye,Object(ge.d)(Object(ge.a)(Ne.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));r.a.render(Object(J.jsx)(o.a,{store:we,children:Object(J.jsx)(fe,{})}),document.getElementById("root")),ve()},77:function(e,t,n){e.exports={remove:"DetailPage_remove__3USja"}},85:function(e,t,n){}},[[210,1,2]]]);
//# sourceMappingURL=main.f8138e53.chunk.js.map